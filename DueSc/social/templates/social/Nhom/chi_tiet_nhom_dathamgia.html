{% extends 'social/group.html' %}
{% load static %}

{% block title %}Chi tiết nhóm - {{ nhom.TenNhom }}{% endblock %}

{% block content_body %}
{% csrf_token %}
<!-- Hiển thị thông báo nếu có -->
{% if messages %}
<div class="messages mb-4 max-w-2xl mx-auto">
    {% for message in messages %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
        <span class="block sm:inline">{{ message }}</span>
    </div>
    {% endfor %}
</div>
{% endif %}

<!-- Khung ảnh đại diện -->
<div class="shadow-md max-w-4xl mx-auto mb-6">
    <!-- Ảnh bìa -->
    <div class="relative">
        <img src="{% static 'image/Nhom/nhom1.png' %}" alt="Ảnh nhóm" class="w-full h-48 object-cover rounded-t-lg">
    </div>

    <!-- Nội dung nhóm -->
    <div class="p-4 bg-white rounded-b-lg">
        <div class="flex justify-between items-start">
            <div>
                <h2 class="text-xl font-semibold text-gray-900">{{ nhom.TenNhom }}</h2>
                <div class="text-sm text-gray-500 flex items-center space-x-1">
                    <i class="fas fa-lock"></i>
                    <span>Nhóm Riêng Tư</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block post %}
<div class="flex justify-center">
    <div class="max-w-2xl w-full">
        <!-- Phần tạo bài viết -->
        <div class="bg-white rounded-lg shadow-md p-4 mb-4">
            <div class="flex items-center space-x-3 mb-3">
                <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                    <i class="fas fa-user text-gray-500"></i>
                </div>
                <input type="text" placeholder="Hãy đăng bài viết!" class="bg-gray-100 rounded-full py-3 px-4 w-full focus:outline-none focus:ring-2 focus:ring-blue-500" id="createPostInput" readonly>
            </div>
            <div class="border-t border-gray-200 pt-3 flex justify-around">
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2 post-type-video">
                    <i class="fas fa-video text-red-500 mr-2"></i>
                    <span>Video</span>
                </button>
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2 post-type-image">
                    <i class="fas fa-image text-green-500 mr-2"></i>
                    <span>Hình ảnh</span>
                </button>
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2 post-type-file">
                    <i class="fas fa-file-alt text-yellow-500 mr-2"></i>
                    <span>Tệp tài liệu</span>
                </button>
                <button class="flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-2 post-type-poll">
                    <i class="fas fa-poll text-blue-500 mr-2"></i>
                    <span>Thăm dò ý kiến</span>
                </button>
            </div>
        </div>

        <!-- Danh sách bài viết -->
        <div id="posts-container">
            {% for post in posts %}
            <!-- Post content remains unchanged -->
            {% empty %}
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <p class="text-gray-500">Chưa có bài viết nào. Hãy là người đầu tiên đăng bài!</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Include post creation partial -->
{% include 'social/Nhom/post_creation_partial.html' %}
{% endblock %}